# CV.Markers

## Ссылки
* [Методички](https://docviewer.yandex.ru/view/324514416/?*=Yn1G4DZyxof1qA7D0j88YtJtlQp7InVybCI6InlhLWRpc2stcHVibGljOi8vajB4czlnR1dBb0lDRXpUeUJBZ2JpelFzR2F5NDlFR2FrVHNHMUxrcWozTEl6U0d4TExFNjlpQk9rU1prWG04WnEvSjZicG1SeU9Kb25UM1ZvWG5EYWc9PSIsInRpdGxlIjoiMjAxOC0xMC0xOV8yNl%2FQm9C10LrRhtC40LguN3oiLCJ1aWQiOiIzMjQ1MTQ0MTYiLCJ5dSI6IjQ2MjIzNjQ5MDE1MjcwOTc4NTYiLCJub2lmcmFtZSI6ZmFsc2UsInRzIjoxNTQyNTQxNjkxNjEzfQ%3D%3D)
* [octave_matlab_cv_calibration](https://docviewer.yandex.ru/view/324514416/?*=1pvYKz1Ct0kr7zntklzN%2BzavhSF7InVybCI6InlhLWRpc2stcHVibGljOi8vcU41Q2hHT1BlS2xTMG84clFuRzY4T290YStFK044b0lDSGFtY2Vvek1LK1I0d01XMTY0cG5uTDJDODAwc2hqOXEvSjZicG1SeU9Kb25UM1ZvWG5EYWc9PSIsInRpdGxlIjoib2N0YXZlX21hdGxhYl9jdl9jYWxpYnJhdGlvbi56aXAiLCJ1aWQiOiIzMjQ1MTQ0MTYiLCJ5dSI6IjQ2MjIzNjQ5MDE1MjcwOTc4NTYiLCJub2lmcmFtZSI6ZmFsc2UsInRzIjoxNTQyNTQxMzk5NjQwfQ%3D%3D)

## От Домашкина

По лабораторной (материалы высылала ранее) нужно будет сделать следующее:
- Ознакомиться с методичками по лабораторным (Калибровка + Стереовидение). Методички высылал в электронном виде.
- Ознакомиться с программой в Matlab/Octave (версию подпиленную для Octave высылаю ниже),
форматами входных файлов и выходных данных.

Порядок запуска скриптов:
1. main_calibration
2. main_check_calibration
3. main_stereo_3d_reconstruct

Обращаю внимание на то, что все входные и выходные
данные находятся в папке serj (для версии, запиленной под Octave) -
при обработке своих данных вам следует изменить этот путь
во всех запускаемых скриптах на путь к папке со своими данными.
(рекомендую скопировать и переименовать папку serj, файлы в этой 
папке заменить "по образу и подобию" своими данными)

Если у вас имеется две примерно одинаковые камеры, вам следует
установить эти камеры неподвижно, зафиксировать фокусные расстояния
объективов и сделать 2 пары снимков -
сначала снимки калибровочной сетки, затем снимки объекта.

Данные обработать (в графическом редакторе удобно измерять координаты
соответствующих (парных) точек и отмечать их, пронумеровывая.

Если у вас имеется одна камера - калибровочную сетку следует сделать
побольше, а объект поменьше. Сделать одну пару снимков с двух разных позиций камеры - 
калибровку и получение 3D модели объекта будете проводить по одному и
тому же снимку (должно быть видно и калибровочные точки и точки объекта,
причём сразу с обеих точек съёмки).

Для калибровки следует использовать не менее 15-16 точек, расположенных
не в одной плоскости (можно на 2х перпендикулярных плоскостях, можно даже на 3х).
Реальные размеры следует указывать в одних и тех же единицах измерения.

На объекте следует выбрать не менее 6-8-10 точек (чем больше, тем лучше) - так,
чтобы их было достаточно для "узнавания" объекта на графиках, где эти точки будут
изображены в "отрыве" от реального изображения объекта. Получившаяся фигура
должна быть объёмной.

Также вам может понадобиться EXIF информация из исходных снимков.

Для получения зачёта по данной лабораторной

1. должна быть продемонстрирована работа указанных скриптов с вашим набором данных,
2. должны быть продемонстрированы исходные фотоизображения (с отмеченными точками калибровки и объекта)
3. "предъявлены" ответы на "дополнительные задания для всех".

### Дополнительные задания

Необходимо ответить на следующие вопросы:
-чему равна база системы стереовидения (точное значение + алгоритм, как его вычислили)
-какие этапы в стереовидении обычно присутствуют, и что на них происходит/выполняется
-чему равен вертикальный и горизонтальный размер пикселя фотоматрицы (в мм) (точное значение + алгоритм, как его вычислили)

P.S.: Если измерение координат проводилось с помощью маркеров и программы
для их поиска и оцифровки координат - должны быть продемонстрированы
файлы исходников, файлы предъявленные (изображения маркеров) и файлы получившиеся
(изображения маркеров, обнаруженных, помеченных и пронумерованных программой).

В этом случае зачёт будет за Лабу (калибровка+стереовидение) + за ДЗ (маркеры)

Если измерение координат проводилось вручную с помощью графического редактора,
ДЗ по детектору маркеров сдавать можно отдельно - список требований я высылал ранее.

## От Димы

1. Изображения со стикерами без предмета - получить 2 файла со списком координат точек стикеров. При этом порядок точек не важен, но важно, чтобы в обоих файлах он был одинаков. Формат файла:
"Число точек"
x1 y1
...
xn yn

2. Изображения с предметом - аналогичные файлы с точками ТОЛЬКО предмета. Порядок тоже не важен, но должен быть одинаков для обоих файлов.

Далее, эти файлы нужно:
а. подложить в папку со скриптом в аудитории
б. запустить у себя тот скрипт
 
Что спрашивает по программе:
1. Как производил нормализацию? (у меня была функция dilate)
2. Как сортировал точки (я по координате Y)